on:
  pull_request:
    branches:
      - '*'
  workflow_dispatch: {}

name: 'Pull Request'

jobs:
  test:
    name: 'Test'

    uses: ./.github/workflows/part_test.yml

  dependabot:
    name: 'Dependabot'

    if: ${{ github.actor == 'dependabot[bot]'}}

    uses: ./.github/workflows/part_dependabot.yml

  publish:
    name: 'Publish'

    uses: ./.github/workflows/part_publish.yml
    with:
      commentDeployment: "${{ github.event_name == 'pull_request' }}"
    secrets:
      EXPO_TOKEN: '${{ secrets.EXPO_TOKEN }}'
